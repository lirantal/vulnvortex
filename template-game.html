<!DOCTYPE html>
<html>
  <head>
    <title>VulnVortex by Snyk</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html, body {
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #D35C79;
      }

      .canvas-holder {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #game {
        display: block;
        cursor: auto;
        pointer-events: auto;
        touch-action: manipulation;
        /* Let kaplay's letterbox mode handle sizing - don't override with CSS scaling */
      }
    </style>
  </head>

  <body>
    <div class="canvas-holder">
      <canvas id="game" tabindex="0"></canvas>
    </div>

    <script>
      // Initialize dataLayer to prevent errors (GTM not loaded in stripped version)
      window.dataLayer = window.dataLayer || [];
    </script>
    {{kaboom}}
    <script>
      // Ensure canvas receives focus for keyboard events
      (function() {
        var canvas = document.getElementById("game");
        // Focus canvas on any click/touch to ensure keyboard events work
        canvas.addEventListener("click", function() {
          canvas.focus();
        });
        canvas.addEventListener("touchstart", function() {
          canvas.focus();
        }, { passive: true });
        // Auto-focus on load
        if (document.readyState === "complete") {
          canvas.focus();
        } else {
          window.addEventListener("load", function() {
            canvas.focus();
          });
        }
      })();
    </script>
  </body>
</html>
